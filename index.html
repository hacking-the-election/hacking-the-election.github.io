<!DOCTYPE html>
<html>
    <head>
        <title>Hacking the Election | A Computational Analysis of Gerrymandering</title>

        <link rel='stylesheet' href='assets/stylesheets/main.css'>
        <link rel='stylesheet' href='assets/stylesheets/index.css'>

        <link rel='icon' href='favicon.ico' type='image/x-icon'>
        <meta name='viewport' content='width=device-width, initial-scale=1.0'>

        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro&display=swap" rel="stylesheet">
    </head>
    <body>
        <div id='navbar'>
            <a href="index.html"><div class='navbar-item'>home</div></a>
            <a href="about.html"><div class='navbar-item'>about</div></a>
            <a href="research.html"><div class='navbar-item'>research</div></a>
            <a href="results.html"><div class='navbar-item'>results</div></a>
        </div>

        <div id='lander'>
            <h1 id='header'></h1>

            <h5>
                <span>a computational study of</span>
                <a href="research.html#gerrymandering">
                    <div id='gerryLink'>
                        <span>gerrymandering</span>
                        <div class='under'></div>
                    </div>
                </a>

                <span>and</span>

                <a href="research.html#redistricting">
                    <div id='redistrictingLink'>
                        <span>redistricting</span>
                        <div class='under'></div>
                    </div>
                </a>
            </h5>

        </div>

        <div id='buttons'>
            <a href="https://github.com/hacking-the-election/gerrymandering">
                <button>
                    <img src="assets/images/25231.svg" width=30px>
                    <span>Code</span>
                </button>
            </a>
            <a href="https://github.com/hacking-the-election/gerrymandering">
                <button class='ghost'>Research</button>
            </a>
        </div>

        <div id='about'>
        </div>

        <script>
            function sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            async function type() {
                var text = "hacking the election";
                var header = document.getElementById('header');

                for (var i = 0; i < text.length; i++) {
                    var str = "<span class='off' id='text" + i + "'>"
                    str += text.substr(i, 1);
                    str += "</span>"
                    header.innerHTML += str;
                }

                var cursor = document.createElement("span");
                cursor.id = "cursor";
                cursor.classList.add("on");
                cursor.innerHTML = "_";

                for (var i = 0; i <= text.length; i++) {
                    header.children[i].classList.remove("off");
                    header.children[i].classList.add("on");
                    header.insertBefore(cursor, document.getElementById("text" + i));
                    await sleep(Math.floor(Math.random() * 150) + 60);

                    if (text.substr(i, 1) == " ") {
                        await sleep(200);
                    }
                }

                await sleep(200);
                cursor.classList.add("blinker");
            }

            type();
        </script>
        <footer>
        </footer>
    </body>
</html>
